/*! ng-google-signin - v0.0.1 2015-08-27 */
angular.module("google-signin",[]).provider("GoogleSignin",[function(){var a={};this.setClientId=function(b){return a.client_id=b,this},this.getClientId=function(){return a.client_id},this.setCookiePolicy=function(b){return a.cookie_policiy=b,this},this.getCookiePolicy=function(){return a.cookie_policiy},this.setFetchBasicProfile=function(b){return a.fetch_basic_profile=b,this},this.getFetchBasicProfile=function(){return a.fetch_basic_profile},this.setHostedDomain=function(b){return a.hosted_domain=b,this},this.getHostedDomain=function(){return a.hosted_domain},this.setOpenIDRealm=function(b){return a.openid_realm=b,this},this.getOpenIDRealm=function(){return a.openid_realm},a.scopes=["profile","email"],this.setScopes=function(b){return a.scopes=b,this},this.getScopes=function(){return a.scopes},this.init=function(b){angular.extend(a,b)},this.$get=["$rootScope","$q",function(b,c){function d(){f=gapi.auth2.init(a),f.currentUser.listen(function(a){b.$broadcast("ng-google-signin:currentUser",a),b.$apply()}),f.isSignedIn.listen(function(a){b.$broadcast("ng-google-signin:isSignedIn",a),b.$apply()})}function e(a){var b=c.defer();return a.then(b.resolve,b.reject),b.promise}var f,g=function(){};return g.prototype.signIn=function(a){return e(f.signIn(a))},g.prototype.signOut=function(){return e(f.signOut())},g.prototype.grantOfflineAccess=function(a){return e(f.grantOfflineAccess(a))},g.prototype.isSignedIn=function(){return f.isSignedIn.get()},g.prototype.getUser=function(){return f.currentUser.get()},g.prototype.getBasicProfile=function(){var a=this.getUser().getBasicProfile(),b=null;return a&&(b={id:a.getId(),name:a.getName(),image:a.getImageUrl(),email:a.getEmail()}),b},g.prototype.disconnect=function(){f.disconnect()},g.prototype._loadCallback=function(){gapi.load("auth2",d)},new g}]}]).run(["$window","GoogleSignin",function(a,b){a._startGoogleSignin=b._loadCallback;var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.src="https://apis.google.com/js/client:platform.js?onload=_startGoogleSignin";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}]);